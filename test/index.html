<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>PurpleíŒ€ ì´ìˆ˜ì ëª…ë‹¨ ìƒì„±ê¸°</title>
  <style>
    body {
      font-family: 'ë§‘ì€ ê³ ë”•', sans-serif;
      background-color: #f9f9f9;
      padding: 40px;
      color: #333;
    }
    h1 {
      color: #6A1B9A;
    }
    button {
      margin-top: 16px;
      padding: 10px 20px;
      font-size: 14px;
      background-color: #6A1B9A;
      color: white;
      border: none;
      cursor: pointer;
    }
    textarea {
      width: 100%;
      height: 400px;
      margin-top: 24px;
      font-family: 'Courier New', monospace;
    }
    input[type="file"] {
      margin-top: 12px;
    }
  </style>
</head>
<body>
  <h1>ğŸ’œ PurpleíŒ€ - ì´ìˆ˜ì ëª…ë‹¨ ë©”ì¼ HTML ìƒì„±ê¸°</h1>
  <p>CSV íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´, ì•„ë˜ì— ë³µë¶™ ê°€ëŠ¥í•œ ë©”ì¼ HTMLì´ ìƒì„±ë¼ìš”. <br/>ì™„ë£Œ í›„ <strong>HTML ì €ì¥</strong>ë„ ê°€ëŠ¥í•´ìš”.</p>
  <input type="file" id="csvFile" accept=".csv">
  <br />
  <button onclick="downloadHTML()">ğŸ“¥ HTML ì €ì¥í•˜ê¸°</button>
  <textarea id="htmlOutput" placeholder="HTML ì½”ë“œê°€ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤"></textarea>

  <script>
    document.getElementById('csvFile').addEventListener('change', function (e) {
      const reader = new FileReader();
      reader.onload = function (event) {
        const lines = event.target.result.trim().split('\n');
        const headers = lines[0].split(',').map(h => h.trim());
        const rows = lines.slice(1).map(line => line.split(',').map(cell => cell.trim()));

        let tableRows = '';
        rows.forEach((row, i) => {
          const bg = i % 2 === 1 ? ' style="background-color:#f9f9f9;"' : '';
          tableRows += `<tr${bg}><td style="border:1px solid #ccc; padding:10px;">${i + 1}</td>`;
          row.forEach(cell => {
            tableRows += `<td style="border:1px solid #ccc; padding:10px;">${cell}</td>`;
          });
          tableRows += '</tr>';
        });

        const fullHTML = `
<!DOCTYPE html>
<html lang="ko">
<head><meta charset="UTF-8"></head>
<body style="margin:0; padding:0; font-family:'ë§‘ì€ ê³ ë”•', sans-serif; background-color:#ffffff;">
  <table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color:#ffffff;">
    <tr>
      <td align="left" style="padding:20px;">
        <table width="960" cellpadding="0" cellspacing="0" border="0" style="background-color:#ffffff; border:1px solid #dddddd;">
          <tr>
            <td style="padding:40px;">
              <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                  <td style="text-align:center; font-size:24px; color:#6A1B9A; font-weight:bold;">PurpleíŒ€ - ì‚¬ì „ ì˜¨ë¼ì¸ ê³¼ì • 80% ì´ìˆ˜ì ëª…ë‹¨</td>
                </tr>
                <tr>
                  <td style="text-align:center; font-size:15px; color:#555; padding-top:16px; padding-bottom:32px;">
                    ì•„ë˜ ëª…ë‹¨ì€ Dreamhack ì‚¬ì „ ì˜¨ë¼ì¸ ê³¼ì • ì„¸ ê³¼ëª© í‰ê·  80% ì´ìƒ ì´ìˆ˜ì ëª…ë‹¨ì…ë‹ˆë‹¤.<br/>
                    ë³¸ì¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì‹œê³ , í”Œë«í¼ì—ì„œë„ ì§„ë„ìœ¨ì„ ê¼­ ì ê²€í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
                  </td>
                </tr>
              </table>

              <table width="100%" cellpadding="10" cellspacing="0" border="1" style="border-collapse:collapse; font-size:14px; text-align:center;">
                <thead>
                  <tr style="background-color:#6A1B9A; color:white;">
                    <th style="border:1px solid #ccc; padding:10px;">No</th>
                    ${headers.map(h => `<th style="border:1px solid #ccc; padding:10px;">${h}</th>`).join('')}
                  </tr>
                </thead>
                <tbody>
                  ${tableRows}
                </tbody>
              </table>

              <table width="100%" cellpadding="0" cellspacing="0" border="0" style="margin-top:30px;">
                <tr>
                  <td style="font-size:14px; background-color:#fefbe8; padding:15px; border-left:5px solid #ffd54f; line-height:1.9;">
                    ğŸ’¡ <strong>ì§„ë„ìœ¨ í™•ì¸ ë°©ë²•:</strong><br>
                    Dreamhack ê°œì¸ í•™ìŠµ í˜ì´ì§€ì—ì„œ ë‚˜ì˜ ì§„ë„ìœ¨ì„ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                    ğŸ‘‰ <a href="https://dreamhack.io/euser/mypage" target="_blank" style="color:#6A1B9A; text-decoration:none; font-weight:bold;">https://dreamhack.io/euser/mypage</a>
                  </td>
                </tr>
              </table>

            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>`;

        document.getElementById("htmlOutput").value = fullHTML.trim();
      };
      reader.readAsText(e.target.files[0], "UTF-8");
    });

    function downloadHTML() {
      const content = document.getElementById("htmlOutput").value;
      const blob = new Blob([content], { type: "text/html;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "PurpleíŒ€_ì´ìˆ˜ì_ëª…ë‹¨.html";
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  </script>
</body>
</html>